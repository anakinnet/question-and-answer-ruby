<!DOCTYPE html>
<html lang="en">
<head>
<title>Question Answer Ruby Starter Application</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="css/watson-bootstrap-dark.css">
<link rel="stylesheet" href="css/browser-compatibility.css">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="container">
		<div class="header row">
			<div class="col-lg-3 col-xs-3">
				<img src="images/app.png">
			</div>
			<div class="col-lg-8 col-xs-8">
				<h2>Question Answer Ruby Starter Application</h2>
				<p>The IBM Watson Question Answer (QA) service provides an API,
					referred to as the QAAPI, that enables you to add the power of the
					IBM Watson cognitive computing system to your application. With
					this service, you can connect to Watson, post questions, and
					receive responses that you can use in your application.</p>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<h2>Try the service</h2>
				<div class="well">
					<form id='qaForm' method="post" class="form-horizontal">
						<fieldset>
							<div class="form-group row">
								<h4 for="select" class="col-lg-12">Select corpus:</h4>
								<div class="col-lg-12">
									<select id="select" name="dataset" class="form-control">
										<option value="healthcare"
										<%= "selected" if @dataset != "travel" %>
										>Healthcare</option>
										<option value="travel"
										<%= "selected" if @dataset == "travel" %>
										>Travel</option>
									</select>
								</div>
							</div>
							<div class="form-group row">
								<div class="col-lg-10 col-xs-10" style="margin-top:10px;">
									<input id="questionText" name="questionText" placeholder="Type a question..."
										required class="form-control" autofocus value="<%= @questionText %>">
										<a class="btn btn-link"
										href="javascript:showExample(true)"
										style="padding-left:0px;" >Try an example question</a>

								</div>
								<div class="col-lg-2  col-xs-2" style="margin-top:10px;">
									<button type="submit" class="btn btn-block">Ask</button>
								</div>
							</div>
						</fieldset>
					</form>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<% if defined? @questionText %>
					<h2>Answers and Confidence</h2>
					<div class="well">
						<% if defined? @answers and !@answers.empty? %>
							<% for @answer in @answers %>
							<div class="form-group row">
								<div class="col-lg-12">
									<div><%= @answer['text'] %></div>
									<div style="font-size:13px;">
									<strong>Confidence: </strong><%= @answer['confidence'] %>
									</div>
								</div>
							</div>
							<% end %>
						<% end %>
						<% if  @answers.empty? %>
							<div class="col-lg-12">
								<p>No answers for that question, try with another question</p>
							</div>
						<% end %>
					</div>
				<% end %>
				<% if defined? @error %>
					<h2>Output</h2>
					<div class="well">
						<p style="font-weight:bold;color:red;">Error: <%= @error %></p>
					</div>
				<% end %>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/css_browser_selector.js"></script>
	<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="js/example_input.js"></script>

</body>
</html>